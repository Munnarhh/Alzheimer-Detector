<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <title>Document</title>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <!--<script src="index.js/image.js"></script>-->
    
</head>
    <body>
        </div>
        <header class="min-vh-100" >
            <nav class="navbar navbar-expand-lg fixed-top bg-white bg-opacity-75">
                <div class="container">
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
                    <a class="navbar-brand" href="#">
                        <!-- <img src="img/Medical.png" alt="Medical logo" /> -->
                        <img src="{{ url_for('static', filename='img/mind_care.jpg') }}" alt="Mindcare logo" id="mind" />
                    </a>
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                      <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#show">Home</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#second-div">Upload</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#surgeon-div">Features</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#blog">Metrics</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#team">Team</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#forminc">Details</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                      </li>
                    </ul>
                    <!-- <button class="btn btn-info bg-mavi text-white rounded-0 text-uppercase" type="submit">Get started</button> -->
                  </div>
                </div>
            </nav>

            <div id="show" class="container vh-100 d-flex align-items-center justify-content-center">
                <div class="row w-100">
                    <div class="card col-lg-6 bg-transparent border-0 text-white" >
                        <div class="card-body">
                            <h1 class="card-title display-3">The best doctors in <b>Mind Care!</b></h1>
                            <h5 class="card-subtitle mb-2">in the world of modern medicine!</h5>
                            <p class="card-text my-5">Mind care is a mental health care hospital, that provides practices and strategies aimed at nurturing and maintaining psychological well-being, involving proactive steps to promote mental wellness and seeking support when needed.</p>
                            <!-- <div id="imageContainer"></div> -->
                            <!--<button class="btn btn-info bg-light text-dark border-0 rounded-0 text-uppercase" type="submit" onclick="displayImage()" id="showImage">Get started</button>-->
                            <!-- <div id="imageContainer"> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <div class="py-5" id ="second-div">
                <div id ="about" class="container">
                    <div class="row align-items-center">
                        <div class="col-md-6 ">
                            <div class="card bg-transparent border-0" >
                                <div class="card-body" id = "AI-div">
                                    <h6 class="card-title text-mavi text-uppercase">Welcome to mindcare AI</h6>
                                    <h2 class="card-subtitle mb-2">Do you have Alzheimer?</h2>
                                    <p class="card-text my-4">Upload your neural X-ray to our platform and use our "State-of-the-Art" AI tool to check for signs of Alzheimer's disease or dementia.</p>
                                    <p class="card-text my-4"><i>Ps: Image Files Only.</i></p>
                                    <button class="btn btn-info bg-mavi text-white border-0 rounded-0 text-uppercase" type="button" onclick="uploadImage()" id="getStartedButton">Get started now</button>
                                    <div class="output-section">
                                        <img id ="uploaded-image" src="" alt="Uploaded Image">
                                        <div class="loading-spinner fas fa-spinner fa-spin" id = "loading-spinner"></div>
                                    </div>
                                    <button class="btn btn-info bg-mavi text-white border-0 rounded-0 text-uppercase" type="button" id="enter-button" style="display: none;">Detect X-ray</button>
                                    <button class="btn btn-info bg-mavi text-white border-0 rounded-0 text-uppercase" type="button" id="delete-button" style="display: none;">Delete X-ray</button>
                                    <input type="file" id="fileInput" style="display: none;">
                                    <div id ="result-text" class ="result"></div>
                                </div>
                                
                            </div>
                        </div>
                        <div class="col-md-6 text-end" id="second-doctor">
                            <img src="{{ url_for('static', filename='img/hekimbaba.jpg') }}" class="mw-100" alt="Hekim baba" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="bg-mavi" id="surgeon-div">
                <div id= "services" class="container-fluid">
                    <div class="row">
                        <div class="col-md-6 vh-50 d-flex align-items-center order-md-1">
                            <div class="card bg-transparent border-0 text-white text-center mx-md-5 px-md-5" >
                                <div class="card-body">
                                    <h6 class="card-title text-uppercase">Features</h6>
                                    <h2 class="card-subtitle mb-2">Professional surgeons</h2>
                                    <p class="card-text my-4">Mind care neurosurgeons specialize in diagnosing and treating neurological conditions affecting mental health. They provide expert care for disorders like epilepsy and brain tumors. Their work involves complex surgeries to improve patients' psychological well-being and overall brain health.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 vh-50 features" style="background: url('../static/img/features1.jpg') center/cover;"></div>
                        <div class="col-md-6 vh-50 d-flex align-items-center order-md-1">
                            <div class="card bg-transparent border-0 text-white text-center mx-md-5 px-md-5 " >
                                <div class="card-body">
                                    <h6 class="card-title text-uppercase">Features</h6>
                                    <h2 class="card-subtitle mb-2">Emergency care for children</h2>
                                    <p class="card-text my-4">Mind care emergency services for children provide immediate support for acute mental health crises. This includes rapid assessment, stabilization, and treatment by trained professionals. The goal is to ensure children's safety and well-being in a compassionate environment.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 vh-50 order-md-1 features" style="background: url('../static/img/features2.jpg') center/cover"></div>
                    </div>
                </div>
            </div>

            <div class="py-5" >
                <div class="container" >
                    <div class="row ">
                        <div class="col-md-4 justify-content-center flex-column">
                            <div class="card my-5 border-0 align-items-center">
                                <img src="{{ url_for('static', filename='img/ic1.jpg') }}" class="card-img-top serviceimgs" alt="...">
                                <div class="card-body text-center">
                                    <h5 class="card-title">Drugs</h5>
                                    <p class="card-text">Our extensive range of drugs offers solutions for enhancing psychological well-being and stability.</p>
                                </div>
                            </div>

                            <div class="card border-0 align-items-center">
                                <img src="{{ url_for('static', filename='img/ic2.jpg') }}" class="card-img-top serviceimgs" alt="...">
                                <div class="card-body text-center">
                                    <h5 class="card-title">Doctors</h5>
                                    <p class="card-text">Our doctors are professionals dedicated to providing exceptional care in a wide range of medicine.</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4 ">
                            <div class="card my-5 border-0 align-items-center">
                                <img src="{{ url_for('static', filename='img/ic3.jpg') }}" class="card-img-top serviceimgs" alt="...">
                                <div class="card-body text-center">
                                    <h5 class="card-title ">ECG</h5>
                                    <p class="card-text">Our ECG technology accurately monitors heart activity, providing insights for cardiac health.</p>
                                </div>
                            </div>

                            <div class="card border-0 align-items-center">
                                <img src="{{ url_for('static', filename='img/ic4.jpg') }}" class="card-img-top serviceimgs" alt="...">
                                <div class="card-body text-center">
                                    <h5 class="card-title">First Aid</h5>
                                    <p class="card-text">Our first aid services offer immediate assistance and expert care in emergency situations.</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="card my-5 border-0 align-items-center">
                                <img src="{{ url_for('static', filename='img/ic5.jpg') }}" class="card-img-top serviceimgs" alt="...">
                                <div class="card-body text-center">
                                    <h5 class="card-title">Equipments</h5>
                                    <p class="card-text">Our cutting-edge equipment enables precise diagnosis and advanced treatment.</p>
                                </div>
                            </div>

                            <div class="card border-0 align-items-center" >
                                <img src="{{ url_for('static', filename='img/ic6.jpg') }}" class="card-img-top serviceimgs" alt="...">
                                <div class="card-body text-center">
                                    <h5 class="card-title">Response Time</h5>
                                    <p class="card-text">Our response time is swift with efficient action taken to address medical emergencies.</p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
                
            <div class="bg-boz py-3" >
                <div class="container" id= "blog">
                    <div class="row">
                        <div class="col-md-4">
                            <img src="{{ url_for('static', filename='img/roc_curve.png') }}" class="card-img my-5" alt="...">
                            <img src="{{ url_for('static', filename='img/ks_chart.png') }}" class="card-img " alt="...">
                        </div>
                        <div class="col-md-4">
                            <img src="{{ url_for('static', filename='img/performance_metrics.png') }}" class="card-img my-5" alt="..." >
                            <img src="{{ url_for('static', filename='img/precision_recall_curve.png') }}" class="card-img" alt="...">
                        </div>
                        <div class="col-md-4">
                            <img src="{{ url_for('static', filename='img/confusion_matrix.png') }}" class="card-img my-5" alt="..." id ="confusion-matrix">
                            <img src="{{ url_for('static', filename='img/threshold_metrics_curve.png') }}" class="card-img mb-5" alt="...">
                        </div>
                    </div>
                </div>
            </div>
            <div class="bg-mavi py-5">
                <div id= "team" class="container">
                    <div class="col d-flex flex-column">
                        <div class="d-flex justify-content-center mb-5">
                            <div class="card-body text-center text-white w-50 d-flex flex-column">
                                <h1 class="card-title">''</h1>
                                <p class="card-text">Get to know the devoted staff at Mind Care, a committed collection of experts dedicated to advancing mental health. Our team comprises skilled psychologists, therapists, sympathetic counselors, and administrators, all collaborating to empower individuals towards happier lives through personalized care. Together, we strive to deliver individualized support, fostering a community where mental well-being flourishes.</p>
                            </div>
                        </div>


                        <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-indicators">
                              <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active bt1" aria-current="true" aria-label="Slide 1"></button>
                              <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" class="bt2" aria-label="Slide 2"></button>
                              <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" class="bt3" aria-label="Slide 3"></button>
                              <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" class="bt4" aria-label="Slide 4"></button>
                              <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4" class="bt5" aria-label="Slide 5"></button>
                            </div>
                            <div class="carousel-inner">
                              <div class="carousel-item active">
                                <div class="carousel-caption d-flex flex-column py-3 d-md-block py-md-5">
                                    <h6>Akinbinu Oludolapo</h6>
                                    <p>Ceo Mindcare</p>
                                </div>
                              </div>
                              <div class="carousel-item">
                                <div class="carousel-caption d-flex flex-column py-3 d-md-block py-md-5">
                                    <h6>Mr. Henry Ogbu</h6>
                                    <p>Supervisor</p>
                                </div>
                              </div>
                              <div class="carousel-item">
                                <div class="carousel-caption d-flex flex-column py-3 d-md-block py-md-5">
                                    <h6>Dr. Johnathan</h6>
                                    <p>NeuroSurgeon</p>
                                </div>
                              </div>
                              <div class="carousel-item">
                                <div class="carousel-caption d-flex flex-column py-3 d-md-block py-md-5">
                                    <h6>Dr. Adubi</h6>
                                    <p>Panel of Judges</p>
                                </div>
                              </div>
                              <div class="carousel-item">
                                <div class="carousel-caption d-flex flex-column py-3 d-md-block py-md-5">
                                    <h6>Mr. Franklin</h6>
                                    <p>Panel of Judges</p>
                                </div>
                              </div>
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                              <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                              <span class="carousel-control-next-icon" aria-hidden="true"></span>
                              <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="py-5" >
                <div class="container" id ="forminc">
                    <div class="row justify-content-center">
                      <div class="col-md-4"> <form id="contactForm">
                        <div class="mb-3">
                          <input type="text" class="form-control" id="name" name="name" placeholder="Name">
                        </div>
                        <div class="mb-3">
                            <input type="email" class="form-control" id="email" name="email" placeholder="E-mail">
                        </div>
                        <div class="mb-3">
                            <input type="text" class="form-control" id="subject" name="subject" placeholder="Phone Number">
                        </div>
                        <div class="mb-3">
                            <textarea class="form-control" id="message" name="message" rows="3" placeholder="Tell us the issue and we would call you"></textarea>
                        </div>
                        <div class="parent-container">
                            <div class="g-recaptcha" data-sitekey="{{ site_key }}"></div>
                        </div>
                        <div class="col d-flex justify-content-center">
                            <button type="submit" class="btn btn-outline-primary">Submit</button>
                        </div></form>
                      </div>
                    </div>
                  </div>
            </div> 
        </main>

        <footer class="bg-goy">
            <div id="contact" class="container">
                <div class="row  py-4 jus d-flex justify-content-center">
                    <div class="col-md-5 text-white ">
                        <h5>Mind Care</h5>
                        <p>Empowering Minds, Enriching Lives </p>
                        <p>Our Commitment to Comprehensive Mental Health Services Extends Beyond Treatment Alone. With a Holistic Approach that Nurtures Well-Being and Resilience, We're Dedicated to Helping Every Individual Achieve their Optimal Mental Health and Lead Fulfilling Lives.</p>
                    </div>
                    <div class="col-md-4 text-white ">
                        <h5>Ogun</h5>
                        <p>709 Covenant university <br> Ota <br> OS 10024</p>
                        <p>+234-874-248-2362 <br> akindolapo@mindcare.com</p>
                    </div>
                    <div class="col-md-3 text-white">
                        <h5>Lagos</h5>
                        <p>4851 Faith Academy <br> Ogba <br> LS 36109</p>
                        <p>+234-874-248-2362 <br> faithdemy@mindcare.com</p>
                    </div>
                </div>
            </div>
        </footer>
        <div id="chatbot-icon" class="chatbot-icon" class="btn btn-info bg-mavi text-white border-0 rounded-0 text-uppercase">
            <i class="fas fa-comments"></i>
        </div>
        <div id="chatbot-window" class="chatbot-window" style="display: none;">
            <div class="chatbot-header">
                <h5>Chat with us!</h5>
                <button id="close-chatbot" class="close-chatbot">&times;</button>
            </div>
            <div class="chatbot-body">
                <!-- Chatbot content goes here -->
                <p>Hello! How can I help you today?</p>
            </div>
            <div class="chatbot-footer">
                <input type="text" id="chatbot-input" placeholder="Type a message..." >
                <button id="send-chatbot" class="send-chatbot">Send</button>
            </div>
        </div>
        

        <script>
            function uploadImage() {
                document.getElementById('fileInput').click();
            }
    
            const fileUpload = document.getElementById('fileInput');
            const enterButton = document.getElementById('enter-button');
            const maxWidth=300;
            const deleteButton = document.getElementById('delete-button');
            const uploadedImage = document.getElementById('uploaded-image');
            const loadingSpinner = document.getElementById('loading-spinner');
            const secondDiv = document.getElementById('second-div');
            const secondDoc = document.getElementById("second-doctor");
            const imageShow = document.getElementById("uploaded-image");
            const resultText = document.querySelector(".result");
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const subject = document.getElementById('subject').value.trim();
            const message = document.getElementById('message').value.trim();
            
            loadingSpinner.classList.add('fas', 'fa-spinner', 'fa-spin');
            loadingSpinner.style.display = 'none';
            enterButton.parentNode.insertBefore(loadingSpinner, enterButton);

            imageShow.style.display = "none";

            fileUpload.addEventListener('change', function(e) {
                const file = e.target.files[0];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    const img = new Image();
                    img.onload = function() {
                        let newWidth, newHeight;
                        if (img.width > maxWidth) {
                            const ratio = maxWidth / img.width;
                            newWidth = maxWidth;
                            newHeight = img.height * ratio;
                        } 
                        else {
                            newWidth = img.width;
                            newHeight = img.height;
                        }

                        imageShow.style.display = "inline-block";
          
                        const canvas = document.createElement('canvas');
                        const context = canvas.getContext('2d');
          
                        canvas.width = newWidth;
                        canvas.height = newHeight;
                        context.drawImage(img, 0, 0, newWidth, newHeight);
          
                        uploadedImage.src = canvas.toDataURL('image/jpeg');
                        deleteButton.style.display = 'inline-block'; // Show the delete button
                        enterButton.style.display = 'inline-block'; // Show the enter button
                    };
                    img.src = e.target.result;
                };
                
                reader.readAsDataURL(file);
            });

            enterButton.addEventListener('click', function() {
               
                resultText.textContent = '';
                loadingSpinner.style.display = 'inline-block';
      
                const imageData = uploadedImage.src.split(',')[1];
      
             
                const xhr = new XMLHttpRequest();
                xhr.open('POST', '/predict');
                xhr.setRequestHeader('Content-Type', 'application/json');
                xhr.onload = function() {
                    if (xhr.status === 200) {
                        const response = JSON.parse(xhr.responseText);
                        resultText.textContent = response.prediction;
                    } else {
                        resultText.textContent = 'Error occurred during prediction.';
                    }
                    loadingSpinner.style.display = 'none';
                };
                xhr.send(JSON.stringify({ image: imageData }));
            });

            deleteButton.addEventListener('click', function() {
                uploadedImage.src = '';
                fileUpload.value = '';
                resultText.textContent = '';
                deleteButton.style.display = 'none';
                enterButton.style.display = 'none';
                loadingSpinner.style.display = 'none';
                imageShow.style.display = "none";
            });

            document.getElementById('chatbot-icon').addEventListener('click', function() {
                document.getElementById('chatbot-window').style.display = 'flex';
            });

            document.getElementById('close-chatbot').addEventListener('click', function() {
                document.getElementById('chatbot-window').style.display = 'none';
            });

            document.getElementById('send-chatbot').addEventListener('click', function() {
                const inputElement = document.getElementById('chatbot-input');
                const input = inputElement.value;

                if (input.trim() === '') return;

                const chatBody = document.querySelector('.chatbot-body');
                const userMessage = document.createElement('p');
                userMessage.textContent = 'You: ' + input;
                userMessage.style.color = '#6bc1f1';
                chatBody.appendChild(userMessage);
                inputElement.value = '';
                chatBody.scrollTop = chatBody.scrollHeight;
                const xhr = new XMLHttpRequest();

                xhr.open('POST', '/chat'); // Use the appropriate endpoint
                xhr.setRequestHeader('Content-Type', 'application/json');
                xhr.onload = function() {
                    if (xhr.status === 200) {
                        const response = JSON.parse(xhr.responseText);
                        const botMessage = document.createElement('p');
                        botMessage.textContent = 'Bot: ' + response.response;
                        chatBody.appendChild(botMessage);
                        chatBody.scrollTop = chatBody.scrollHeight;
                    } else {
                        console.error('Error occurred during chat:', xhr.responseText);
                    }
                };
                xhr.send(JSON.stringify({ message: input }));
            });

            document.getElementById('contactForm').addEventListener('submit', function(event) {
                event.preventDefault();
                const name = document.getElementById('name').value.trim();
                const email = document.getElementById('email').value.trim();
                const subject = document.getElementById('subject').value.trim();
                const message = document.getElementById('message').value.trim();
                const recaptchaResponse = grecaptcha.getResponse();
            
                if (!name || !email || !subject || !recaptchaResponse) {
                    alert('All fields are required.');
                    return;
                }
                const xhr = new XMLHttpRequest();
                xhr.open('POST', '/submit_form');
                xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                xhr.onload = function() {
                    if (xhr.status === 200) {
                        const response = JSON.parse(xhr.responseText);
                        alert(response.message); 
                    } else {
                        const response = JSON.parse(xhr.responseText);
                        alert(response.message);
                    }
                    };
                    xhr.send(`name=${encodeURIComponent(name)}&email=${encodeURIComponent(email)}&subject=${encodeURIComponent(subject)}&message=${encodeURIComponent(message)}&g-recaptcha-response=${encodeURIComponent(recaptchaResponse)}`);
            });



    
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    
    </body>
</html>
